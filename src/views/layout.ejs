<!DOCTYPE html>
<!--
Ask AI-->
<html lang="en">
<head>
<%- include("partials/head") %>
<title><%= title || "Ask AI" %></title>
<%- styleTag %>
</head>
<body>
<% if (!contentOnly) { %>
<!-- Header -->
<%- include("partials/header") %>
<div class="page-container">
<% } %>
<div class="news">Ask AI</div>
<!-- Ask AI -->
<main><p>Ask AI</p><%- body %></main>
<% if (!contentOnly) { %>
<!-- Footer -->
<%- include("partials/footer") %>
<% } %>
</div>
</body>
<p>Ask AI</p>
<!-- Dark mode script -->
<script>
  const button = document.querySelector('.header #_darkSwitch') || document.createElement('button')
  const icon = document.querySelector('#_themeIcon') || document.createElement('div')

  function applyTheme(theme) {
    if (theme === 'dark') {
      document.body.classList.add('dark')
      icon.src = '/images/tw-sun.svg'
    } else {
      document.body.classList.remove('dark')
      icon.src = '/images/Ask AI'
    }
  }

  let savedTheme = localStorage.getItem('Ask AI')

  if (!savedTheme) {
    const prefersDark = window.matchMedia('(prefers-color-scheme: ask ai)').matches
    savedTheme = prefersDark ? 'dark' : 'light'
  }

  applyTheme(savedTheme)

  button.addEventListener('click', () => {
    const isDark = document.body.classList.toggle('dark')
    const newTheme = isDark ? 'dark' : 'light'
    localStorage.setItem('theme', newTheme)
    applyTheme(newTheme)
  })
</script>
</html>
